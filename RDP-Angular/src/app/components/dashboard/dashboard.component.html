<!-- Ngx Spinner -->
<ngx-spinner
  bdColor="rgba(0,0,0,0.78)"
  size="large"
  color="#fa0000"
  type="triangle-skew-spin"
  [fullScreen]="true"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>

<div class="display-4 text-center">Dashboard</div>

<div class="container mt-5">
  <mat-form-field class="w-25">
    <input
      (keyup)="filterDataSource($event.target.value)"
      matInput
      placeholder="Search"
      autocomplete="off"
      id="searchBox"
    />
  </mat-form-field>

  <button
    mat-raised-button
    color="primary"
    class="float-right mb-3 "
    [routerLink]="['/add']"
    routerLinkActive="router-link-active"
  >
    <i class="fa fa-plus mr-2"></i>
    Add Customer
  </button>
  <div class="mat-elevation-z8">
    <mat-table mat-table [dataSource]="dataSource" matSort>
      <!-- Customer Number Column -->
      <ng-container matColumnDef="customerNumber">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Customer Number
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Customer Number: </span>
          {{ element.customerNumber }}
        </mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Name</mat-header-cell
        >
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">Name : </span>
          {{ customers.name }}</mat-cell
        >
      </ng-container>

      <!-- VAT Column -->
      <ng-container matColumnDef="vat">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          VAT
        </mat-header-cell>
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">VAT : </span>
          {{ customers.vat }}</mat-cell
        >
      </ng-container>

      <!-- VAT Column -->
      <ng-container matColumnDef="lastVisit">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Last Visit</mat-header-cell
        >
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">Last Visit : </span>
          {{ customers.lastVisit | date }}</mat-cell
        >
      </ng-container>

      <!-- Sales Consultant Column -->
      <ng-container matColumnDef="salesConsultant">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Sales Consultant
        </mat-header-cell>
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">Sales Consultant : </span>
          {{ customers.salesConsultant }}
        </mat-cell>
      </ng-container>

      <!-- Match Code Column -->
      <ng-container matColumnDef="matchCode">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Match Code</mat-header-cell
        >
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">Match Code : </span>
          {{ customers.matchCode }}</mat-cell
        >
      </ng-container>

      <!-- Type Column -->
      <ng-container matColumnDef="type">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Type</mat-header-cell
        >
        <mat-cell *matCellDef="let customers">
          <span class="mobile-label">Type : </span>
          {{ customers.type }}</mat-cell
        >
      </ng-container>

      <!-- Match Code Column -->
      <ng-container matColumnDef="editButton">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell
          *matCellDef="let customers"
          [routerLink]="['/edit', customers.id]"
        >
          <i class="material-icons" style="color:grey;cursor: pointer;">edit</i>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>

    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</div>
